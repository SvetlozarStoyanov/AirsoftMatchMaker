@using System.Text.RegularExpressions;
@model AmmoBoxBuyModel

@{
    ViewBag.Title = "Buy ammo";
}

<h2 class="text-center">@ViewBag.Title</h2>


<div class="container" style="display:inline">
    <div class="row">

        <div class="card col-8 border-0">
            <p style="font-size:25px;">@Model.Name</p>
            <form asp-controller="AmmoBoxes" asp-action="Buy" method="post">
                <input asp-for="VendorId" hidden />
                <div class="form-group">
                    <label  asp-for="AmmoAmount">Ammo in one box</label>
                    <input id="ammoAmountInitial" asp-for="AmmoAmount" hidden />
                    <input asp-for="AmmoAmount" class="form-control" disabled />
                </div>
                <div class="form-group">
                    <label asp-for="Price">Price per box </label>
                    <input id="price" asp-for="Price" class="form-control" disabled />
                    <input asp-for="Price" hidden />

                </div>

                @if (Model.VendorName != null)
                {
                    <p>
                        Vendor:
                        <b>
                            <a class="btn btn-primary btn-info" asp-area="Player" asp-controller="Vendors" asp-action="Details" asp-route-id="@Model.VendorId"> @Model.VendorName</a>
                        </b>
                    </p>
                }
                <div class="form-group">
                    <label asp-for="QuantityToBuy">Select quantity to buy</label>
                    <select id="quantityToBuy" asp-for="QuantityToBuy" class="form-control">
                        @for (int i = 1; i <= Model.Quantity; i++)
                        {
                            <option value="@i">@i</option>
                        }
                    </select>
                </div>
                <div class="form-group">
                    <label>Ammo that will be received</label>
                    <input id="ammoAmountFinal" class="form-control" disabled />
                </div>
                <div class="form-group">
                    <label asp-for="FinalPrice">Final Price</label>
                    <input id="finalPriceForUi" asp-for="FinalPrice" class="form-control" disabled />
                    <input id="finalPriceForSubmit" asp-for="FinalPrice" hidden />
                </div>
                <div class="text-center">
                    <button class="btn btn-success">Buy</button>
                </div>
            </form>
        </div>
    </div>
</div>

<script src="~/js/Areas/Player/Views/AmmoBoxes/calculateAmmBoxesFinalPrice.js"></script>